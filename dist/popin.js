!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var o=n(1),i=n(2),r=null;function a(e){return setTimeout(e,0)}e.exports=function(e,t){var n=document,s="string"==typeof e?n.querySelector(e):e,c=i({returnFocusOnDeactivate:!0,escapeDeactivates:!0},t),u={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},l={activate:function(e){if(!u.active){g(),u.active=!0,u.paused=!1,u.nodeFocusedBeforeActivation=n.activeElement;var t=e&&e.onActivate?e.onActivate:c.onActivate;return t&&t(),p(),l}},deactivate:d,pause:function(){!u.paused&&u.active&&(u.paused=!0,f())},unpause:function(){u.paused&&u.active&&(u.paused=!1,p())}};return l;function d(e){if(u.active){f(),u.active=!1,u.paused=!1;var t=e&&void 0!==e.onDeactivate?e.onDeactivate:c.onDeactivate;return t&&t(),(e&&void 0!==e.returnFocus?e.returnFocus:c.returnFocusOnDeactivate)&&a(function(){w(u.nodeFocusedBeforeActivation)}),l}}function p(){if(u.active)return r&&r.pause(),r=l,g(),a(function(){w(v())}),n.addEventListener("focusin",b,!0),n.addEventListener("mousedown",m,!0),n.addEventListener("touchstart",m,!0),n.addEventListener("click",E,!0),n.addEventListener("keydown",y,!0),l}function f(){if(u.active&&r===l)return n.removeEventListener("focusin",b,!0),n.removeEventListener("mousedown",m,!0),n.removeEventListener("touchstart",m,!0),n.removeEventListener("click",E,!0),n.removeEventListener("keydown",y,!0),r=null,l}function h(e){var t=c[e],o=t;if(!t)return null;if("string"==typeof t&&!(o=n.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"==typeof t&&!(o=t()))throw new Error("`"+e+"` did not return a node");return o}function v(){var e;if(!(e=null!==h("initialFocus")?h("initialFocus"):s.contains(n.activeElement)?n.activeElement:u.firstTabbableNode||h("fallbackFocus")))throw new Error("You can't have a focus-trap without at least one focusable element");return e}function m(e){s.contains(e.target)||(c.clickOutsideDeactivates?d({returnFocus:!o.isFocusable(e.target)}):e.preventDefault())}function b(e){s.contains(e.target)||e.target instanceof Document||(e.stopImmediatePropagation(),w(u.mostRecentlyFocusedNode||v()))}function y(e){if(!1!==c.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e))return e.preventDefault(),void d();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){if(g(),e.shiftKey&&e.target===u.firstTabbableNode)return e.preventDefault(),void w(u.lastTabbableNode);e.shiftKey||e.target!==u.lastTabbableNode||(e.preventDefault(),w(u.firstTabbableNode))}(e)}function E(e){c.clickOutsideDeactivates||s.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation())}function g(){var e=o(s);u.firstTabbableNode=e[0]||v(),u.lastTabbableNode=e[e.length-1]||v()}function w(e){e!==n.activeElement&&(e&&e.focus?(e.focus(),u.mostRecentlyFocusedNode=e,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(e)&&e.select()):w(v()))}}},function(e,t){var n=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],o=n.join(","),i="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function r(e,t){t=t||{};var n,r,s,c=[],d=[],f=new p(e.ownerDocument||e),h=e.querySelectorAll(o);for(t.includeContainer&&i.call(e,o)&&(h=Array.prototype.slice.apply(h)).unshift(e),n=0;n<h.length;n++)a(r=h[n],f)&&(0===(s=u(r))?c.push(r):d.push({documentOrder:n,tabIndex:s,node:r}));return d.sort(l).map(function(e){return e.node}).concat(c)}function a(e,t){return!(!s(e,t)||function(e){return function(e){return d(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t=function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}(e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'));return!t||t===e}(e)}(e)||u(e)<0)}function s(e,t){return t=t||new p(e.ownerDocument||e),!(e.disabled||function(e){return d(e)&&"hidden"===e.type}(e)||t.isUntouchable(e))}r.isTabbable=function(e,t){if(!e)throw new Error("No node provided");return!1!==i.call(e,o)&&a(e,t)},r.isFocusable=function(e,t){if(!e)throw new Error("No node provided");return!1!==i.call(e,c)&&s(e,t)};var c=n.concat("iframe").join(",");function u(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:e.tabIndex:t}function l(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function d(e){return"INPUT"===e.tagName}function p(e){this.doc=e,this.cache=[]}p.prototype.hasDisplayNone=function(e,t){if(e===this.doc.documentElement)return!1;var n=function(e,t){for(var n=0,o=e.length;n<o;n++)if(t(e[n]))return e[n]}(this.cache,function(t){return t===e});if(n)return n[1];var o=!1;return"none"===(t=t||this.doc.defaultView.getComputedStyle(e)).display?o=!0:e.parentNode&&(o=this.hasDisplayNone(e.parentNode)),this.cache.push([e,o]),o},p.prototype.isUntouchable=function(e){if(e===this.doc.documentElement)return!1;var t=this.doc.defaultView.getComputedStyle(e);return!!this.hasDisplayNone(e,t)||"hidden"===t.visibility},e.exports=r},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var o=arguments[t];for(var i in o)n.call(o,i)&&(e[i]=o[i])}return e};var n=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o);class r{constructor(){this.element=document.querySelector(".Overlay")||this.init()}init(){const e=document.createElement("div");return e.className="Overlay",document.body.appendChild(e)}show(){this.element.classList.add("is-enabled")}hide(){this.element.classList.remove("is-enabled")}destroy(){document.documentElement.removeChild(this.element)}}n.d(t,"default",function(){return s});const a={Events:!1,OpenCallback:null,Selectors:{Popin:".js-popin",BtnOpen:".js-popin-open",BtnClose:".js-popin-close",PopinMain:".js-popin-main",PopinContent:".js-popin-content"},Classes:{PopinOpen:"is-enabled"}};class s{constructor(e,t){console.log("test"),this.options={...a,...t},this._element=e||document.querySelector(this.options.Selectors.Popin),this.contentPopin=this._element.querySelector(`${this.options.Selectors.PopinContent}`),this.closeBtn=this._element.querySelector(`${this.options.Selectors.BtnClose}`),this.openBtns=document.querySelectorAll(`${this.options.Selectors.BtnOpen}[${this.options.DataAttributes.PopinBtnId}="${this._element.dataset.popin}"]`),this.init()}init(){this._element.addEventListener("keydown",e=>{"Escape"===e.key&&this.close()}),[...this.openBtns].map(e=>e.addEventListener("click",e=>this.handleOpenBtn(e))),this.closeBtn.addEventListener("click",e=>this.handleCloseBtn(e))}handleOpenBtn(e){e.preventDefault();const{dataset:t}=e.target;void 0!==t.popinLoad?this.open(e.target,()=>this.loadContent(t.popinLoad)):this.open(e.target)}handleCloseBtn(e){e.preventDefault(),this.close()}open(e,t=null){this.overlay=new r,this.overlay.show(),this._element.classList.add(this.options.Classes.PopinOpen),this._element.setAttribute("aria-hidden",!1),this._element.addEventListener("click",t=>{const{target:n}=t;n.closest(this.options.Selectors.PopinMain)||n.isEqualNode(e)||n.isEqualNode(this.closeBtn)||this.close()},!1),this.trapFocus=i()(this._element),this.trapFocus.activate(),this._element.focus(),null!==this.options.OpenCallback&&t()}close(){this.overlay.hide(),this.trapFocus.deactivate(),this._element.classList.remove(this.options.Classes.PopinOpen),this._element.setAttribute("aria-hidden",!0)}loadContent(e){""===this.contentPopin.textContent.trim()&&fetch(e).then(e=>{e.json().then(e=>{const t=e.filter(e=>"insert"===e.command)[0].data;this.contentPopin.insertAdjacentHTML("afterbegin",t)})}).catch()}}}]);